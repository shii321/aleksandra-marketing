<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MH4WPRHR0L"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-MH4WPRHR0L');
    </script>

    <!-- Yandex.Metrika -->
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){
            m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
        })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105565869', 'ym');
        ym(105565869, 'init', {ssr:true, webvisor:true, clickmap:true, accurateTrackBounce:true});
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aleksandra - Digital Marketing Consultant | Phuket, Thailand</title>
    <meta name="description" content="Choose your language - Digital Marketing Expert in Phuket, Thailand. SEO, Web Development, Google Ads.">
    <meta name="robots" content="noindex, follow">
    
    <link rel="icon" type="image/x-icon" href="/logo.ico">
    <link rel="canonical" href="https://aleksandra.marketing/">
    
    <!-- hreflang теги -->
    <link rel="alternate" hreflang="en" href="https://aleksandra.marketing/en/">
    <link rel="alternate" hreflang="ru" href="https://aleksandra.marketing/ru/">
    <link rel="alternate" hreflang="x-default" href="https://aleksandra.marketing/en/">

</head>
<body>
    <div class="spinner"></div>
    <script>
        const userLang = navigator.language || navigator.userLanguage;
        window.location.replace(userLang.toLowerCase().startsWith('ru') ? '/ru/' : '/en/');
    </script>
    <noscript>
        <meta http-equiv="refresh" content="0; url=/en/">
    </noscript>

    <script>
        // Автоматическое определение языка браузера
        function detectAndRedirect() {
            // Проверяем, не заходил ли пользователь уже на сайт
            const hasVisited = sessionStorage.getItem('languageSelected');
            
            if (!hasVisited) {
                // Получаем язык браузера
                const userLang = navigator.language || navigator.userLanguage;
                
                // Показываем индикатор загрузки
                document.getElementById('loading').classList.add('active');
                
                // Отправляем событие в аналитику
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'auto_language_detect', {
                        'detected_language': userLang
                    });
                }
                
                // Редиректим через 800ms
                setTimeout(() => {
                    if (userLang.toLowerCase().startsWith('ru')) {
                        window.location.href = '/ru/';
                    } else {
                        window.location.href = '/en/';
                    }
                    sessionStorage.setItem('languageSelected', 'true');
                }, 800);
            }
        }

        // Отслеживание ручного выбора языка
        document.getElementById('enBtn').addEventListener('click', function(e) {
            sessionStorage.setItem('languageSelected', 'true');
            if (typeof gtag !== 'undefined') {
                gtag('event', 'manual_language_select', {
                    'selected_language': 'en'
                });
            }
        });

        document.getElementById('ruBtn').addEventListener('click', function(e) {
            sessionStorage.setItem('languageSelected', 'true');
            if (typeof gtag !== 'undefined') {
                gtag('event', 'manual_language_select', {
                    'selected_language': 'ru'
                });
            }
        });

        // Запускаем автоопределение при загрузке страницы
        window.addEventListener('load', detectAndRedirect);
    </script>
</body>
</html>